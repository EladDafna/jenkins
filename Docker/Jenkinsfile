pipeline {
    agent any
    
    stages {
        stage('Build Docker image') {
            steps {
                script {
                    def dockerImage = docker.build('mydockerimage:latest', '.')
                    dockerImage.inside {
                        // פה אפשר להריץ כל סקריפט או פקודות נוספות תוך השתמשות בתוך הקונטיינר שנוצר
                        sh 'echo "Running inside Docker container"'
                        // לדוגמה:
                        // sh 'npm install'
                        // sh 'npm test'
                    }
                }
            }
        }
    }
}
